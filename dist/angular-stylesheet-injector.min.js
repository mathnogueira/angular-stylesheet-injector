!function(n){function e(e,o,t){function s(){o.has("$state")&&(m=o.get("$state"),e.$on("$stateChangeStart",a),e.$on("$css_SyncronousInjectionFinished",c)),e.$on("$css_InjectionStarted",i),e.$on("$css_SyncronousLoadingFinished",g)}function a(o,t,s,a,i){if(t.lazyLoading&&t.lazyLoading.synchronous){var l=t.lazyLoading.synchronous,r={event:o,from:a,to:t};if(console.log("injected:",b,"synchronous:",l),n.equals(b,l))return;v&&console.log("ui.Router change state detected:",a.name,"to",t.name),v&&console.log(t.name,"contains stylesheets to be loaded synchronously: ",l),u(l,r,c),o.preventDefault()}if(t.lazyLoading&&t.lazyLoading.assynchronous){var f=t.lazyLoading.assynchronous;v&&console.log(t.name,"contains stylesheets to be loaded assynchronously:",f),d(f)}e.$broadcast("$css_BeforeInjection"),e.$broadcast("$css_InjectionStarted")}function c(){m.go($.to.name)}function i(){L.length=0,l(),y()}function l(){for(var n in p)r(p[n],f)}function r(n,e){return S.indexOf(n)>=0?void e(n,null):void t.get(n).then(function(o){200==o.status&&e(n,o.data)})}function u(e,o,t){if(p.length=0,n.isArray(e))for(var s in e)p.push(e[s]);else p.push(e);$=o}function d(e){if(j.length=0,n.isArray(e))for(var o in e)j.push(e[o]);else j.push(e)}function f(o,t){v&&console.log(o,"loaded"),h(o,t),S.push(o),n.equals(S,p)&&e.$broadcast("$css_SyncronousLoadingFinished")}function h(n,e){var o={name:n,content:e};L.push(o)}function g(){var o,t,s=n.element(document.querySelector("head")),a=[];console.log("loaded",b);for(var c in b)L.indexOf(b[c])<0&&a.push(b[c]);v&&console.log("Stylesheets that will be removed:",a);for(c in a){t=n.element(document.querySelector('style[data-name="'+a[c]+'"]')),v&&console.log("Removing stylesheet:",a[c]),t.remove();var i=b.indexOf(a[c]);console.log(i),v&&console.log("Injected before removing:",b),b.splice(i,1),v&&console.log("Injected after removing:",b)}for(c in L)a.indexOf(L[c])<0&&b.indexOf(L[c])<0&&(o="<style data-name='"+L[c].name+"'>"+L[c].content+"</style>",s.append(o),b.push(L[c].name));S.length=0,e.$broadcast("$css_SyncronousInjectionFinished")}function y(){}var $,m,v=!0,p=[],j=[],S=[],b=[],L=[];s()}function o(n){}n.module("ng-stylesheet-injector",[]).run(o).service("$css",e),e.$inject=["$rootScope","$injector","$http"],o.$inject=["$css"]}(angular);